---
/**
 * Homepage
 * Landing page communicating Speck's value proposition
 */

import HomeLayout from '@/layouts/HomeLayout.astro';
import FeatureCard from '@/components/FeatureCard.astro';

// Homepage data
const hero = {
  headline: "Specification-driven development for Claude Code",
  subtitle: "Built on GitHub's spec-kit",
  subtitleLink: "https://github.com/github/spec-kit",
  subheadline: "From idea to implementation with shared specs, stacked PRs, and multi-repo support. Built for Claude Code with native hook integration.",
  ctaPrimary: {
    text: "Install via /plugin",
    href: "/docs/getting-started/installation",
  },
  ctaSecondary: {
    text: "View on GitHub",
    href: "https://github.com/nprbst/speck",
  },
};

const features = [
  {
    title: "Multi-Repo & Monorepo Support",
    description: "Coordinate features across multiple repositories with shared specifications. Perfect for coordinated frontend/backend features and monorepo workspace management. Link child repos to a central spec root with automatic detection.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></svg>`,
  },
  {
    title: "Stacked PR Workflows",
    description: "Break large features into reviewable chunks with branch dependency tracking. Works with Graphite, GitHub Stack, or manual git workflows for faster delivery through parallel review.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>`,
  },
  {
    title: "Claude-Native Performance",
    description: "Virtual commands with hook-based architecture deliver sub-100ms execution. 30% faster slash command execution with automatic prerequisite checks and context pre-loading.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>`,
  },
  {
    title: "One-Command Installation",
    description: "Install in seconds via Claude Code marketplace. Type /plugin in Claude Code, add speck-market, and you're ready to build. No configuration needed.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line></svg>`,
  },
];

const differentiators = [
  {
    title: "Only tool built for Claude Code",
    description: "Native hook integration with automatic prerequisite checks and context pre-loading. Virtual commands execute in under 100ms for the fastest Claude Code workflow.",
  },
  {
    title: "Only spec system supporting multi-repo shared specifications",
    description: "Link child repos to a central spec root with symlink-based detection. Each repo generates independent implementation plans from shared specifications.",
  },
];

const comparisonPreview = {
  title: "Speck vs Spec-Kit",
  description: "Both tools help you write feature specifications, but they take different approaches. Speck is opinionated and optimized for Claude Code, while spec-kit is flexible and language-agnostic.",
  speckHighlights: [
    "Bun runtime (fast, modern TypeScript)",
    "Claude-native slash commands",
    "Structured opinionated workflow",
  ],
  specKitHighlights: [
    "Bash-based (universal compatibility)",
    "Language-agnostic templates",
    "Flexible, customizable process",
  ],
  ctaLink: "/comparison",
};

const seo = {
  title: "Speck - Opinionated Feature Specs for Claude Code",
  description: "Transform spec-kit into a Bun-powered, Claude-native workflow with TypeScript-first tooling and slash command integration. Write better feature specs faster.",
  keywords: ["speck", "spec-kit", "claude code", "feature specs", "bun", "typescript", "claude ai"],
};
---

<HomeLayout title={seo.title} description={seo.description}>
  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <h1 class="hero-headline">{hero.headline}</h1>
        <p class="hero-subtitle">
          <a href={hero.subtitleLink} class="subtitle-link" target="_blank" rel="noopener noreferrer">
            {hero.subtitle}
          </a>
        </p>
        <p class="hero-subheadline">{hero.subheadline}</p>
        <div class="hero-ctas">
          <a href={hero.ctaPrimary.href} class="btn btn-primary">
            {hero.ctaPrimary.text}
          </a>
          <a href={hero.ctaSecondary.href} class="btn btn-secondary" target="_blank" rel="noopener noreferrer">
            {hero.ctaSecondary.text}
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features">
    <div class="container">
      <h2 class="section-title">Why Speck?</h2>
      <div class="features-grid">
        {features.map(feature => (
          <FeatureCard
            title={feature.title}
            description={feature.description}
            icon={feature.icon}
          />
        ))}
      </div>
    </div>
  </section>

  <!-- Differentiators Section -->
  <section class="differentiators">
    <div class="container">
      <h2 class="section-title">What Makes Speck Unique</h2>
      <div class="differentiators-grid">
        {differentiators.map(diff => (
          <div class="differentiator-card">
            <h3 class="differentiator-title">{diff.title}</h3>
            <p class="differentiator-description">{diff.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- About Speck & spec-kit Origins Section -->
  <section class="origins">
    <div class="container">
      <h2 class="section-title">About Speck & spec-kit</h2>
      <div class="origins-content">
        <p>
          Speck builds on and remains compatible with GitHub's excellent <a href="https://github.com/github/spec-kit" target="_blank" rel="noopener noreferrer">spec-kit</a> project,
          extending it for Claude Code users with multi-repo support, stacked PR workflows, and performance optimizations.
          If you're not using Claude Code, consider exploring <a href="https://github.com/github/spec-kit" target="_blank" rel="noopener noreferrer">spec-kit directly</a> for specification-driven development.
          <a href="/docs/about/speck-and-spec-kit" class="learn-more-link">Learn more about the relationship →</a>
        </p>
      </div>
    </div>
  </section>

  <!-- Comparison Preview Section -->
  <section class="comparison-preview">
    <div class="container">
      <h2 class="section-title">{comparisonPreview.title}</h2>
      <p class="comparison-description">{comparisonPreview.description}</p>

      <div class="comparison-grid">
        <div class="comparison-column">
          <h3>Speck</h3>
          <ul>
            {comparisonPreview.speckHighlights.map(highlight => (
              <li>{highlight}</li>
            ))}
          </ul>
        </div>
        <div class="comparison-column">
          <h3>Spec-Kit</h3>
          <ul>
            {comparisonPreview.specKitHighlights.map(highlight => (
              <li>{highlight}</li>
            ))}
          </ul>
        </div>
      </div>

      <div class="comparison-cta">
        <a href={comparisonPreview.ctaLink} class="btn btn-secondary">
          See Full Comparison →
        </a>
      </div>
    </div>
  </section>

  <!-- Quick Start Preview -->
  <section class="quick-start-preview">
    <div class="container">
      <h2 class="section-title">Get Started in Minutes</h2>
      <div class="quick-start-content">
        <div class="quick-start-steps">
          <div class="step">
            <div class="step-number">1</div>
            <h3>Have Claude Code 2.0+</h3>
            <p>Verify with: <code>claude --version</code></p>
          </div>
          <div class="step">
            <div class="step-number">2</div>
            <h3>Install Plugin</h3>
            <p>Type <code>/plugin</code> → Add speck-market → Install Speck</p>
          </div>
          <div class="step">
            <div class="step-number">3</div>
            <h3>Start Building</h3>
            <p>Use <code>/speck.specify</code> or ask "What does Speck do?"</p>
          </div>
        </div>
        <div class="quick-start-cta">
          <a href="/docs/getting-started/installation" class="btn btn-primary">
            View Installation Guide
          </a>
        </div>
      </div>
    </div>
  </section>
</HomeLayout>

<style>
  /* Hero Section */
  .hero {
    padding: var(--space-2xl) 0;
    min-height: 70vh;
    display: flex;
    align-items: center;
  }

  .hero-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }

  .hero-headline {
    font-size: clamp(2rem, 5vw, 3.5rem);
    font-weight: 700;
    margin-bottom: var(--space-sm);
    line-height: 1.1;
    color: var(--color-text);
  }

  .hero-subtitle {
    font-size: clamp(0.875rem, 1.5vw, 1rem);
    color: var(--color-text-muted);
    margin-bottom: var(--space-lg);
    font-style: italic;
  }

  .subtitle-link {
    color: var(--color-accent);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
  }

  .subtitle-link:hover {
    border-bottom-color: var(--color-accent);
  }

  .hero-subheadline {
    font-size: clamp(1.125rem, 2.5vw, 1.375rem);
    color: var(--color-text-muted);
    margin-bottom: var(--space-2xl);
    line-height: 1.6;
  }

  .hero-ctas {
    display: flex;
    gap: var(--space-md);
    justify-content: center;
    flex-wrap: wrap;
  }

  /* Buttons */
  .btn {
    display: inline-flex;
    align-items: center;
    padding: 0.75rem 1.5rem;
    border-radius: var(--radius-md);
    font-weight: 600;
    text-decoration: none;
    transition: all var(--transition-fast);
    border: 2px solid transparent;
    font-size: 1rem;
  }

  .btn-primary {
    background: var(--color-accent);
    color: var(--color-bg);
    border-color: var(--color-accent);
  }

  .btn-primary:hover {
    background: var(--color-accent-hover);
    border-color: var(--color-accent-hover);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }

  .btn-secondary {
    background: var(--color-bg-secondary);
    color: var(--color-text);
    border-color: var(--color-border);
  }

  .btn-secondary:hover {
    background: var(--color-bg);
    border-color: var(--color-accent);
    color: var(--color-accent);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }

  /* Sections */
  .features,
  .comparison-preview,
  .quick-start-preview {
    padding: var(--space-2xl) 0;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 2.5rem);
    font-weight: 700;
    text-align: center;
    margin-bottom: var(--space-2xl);
    color: var(--color-text);
  }

  /* Features Grid */
  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-lg);
  }

  /* Differentiators Section */
  .differentiators {
    background: var(--color-bg-secondary);
    border-top: 1px solid var(--color-border);
    border-bottom: 1px solid var(--color-border);
  }

  .differentiators-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-xl);
    max-width: 900px;
    margin: 0 auto;
  }

  .differentiator-card {
    padding: var(--space-xl);
    background: var(--color-bg);
    border: 1px solid var(--color-accent);
    border-radius: var(--radius-lg);
  }

  .differentiator-title {
    font-size: 1.375rem;
    font-weight: 600;
    margin-bottom: var(--space-md);
    color: var(--color-accent);
  }

  .differentiator-description {
    color: var(--color-text-muted);
    line-height: 1.6;
    margin: 0;
  }

  /* Origins Section */
  .origins {
    padding: var(--space-2xl) 0;
    background: var(--color-bg);
  }

  .origins-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }

  .origins-content p {
    font-size: 1.125rem;
    line-height: 1.8;
    color: var(--color-text-muted);
    margin: 0;
  }

  .origins-content a {
    color: var(--color-accent);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color var(--transition-fast);
  }

  .origins-content a:hover {
    border-bottom-color: var(--color-accent);
  }

  .learn-more-link {
    font-weight: 600;
  }

  /* Comparison Preview */
  .comparison-description {
    text-align: center;
    color: var(--color-text-muted);
    max-width: 700px;
    margin: 0 auto var(--space-2xl);
    font-size: 1.125rem;
    line-height: 1.6;
  }

  .comparison-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-xl);
    margin-bottom: var(--space-2xl);
  }

  .comparison-column {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: var(--space-xl);
  }

  .comparison-column h3 {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: var(--space-md);
    color: var(--color-text);
  }

  .comparison-column ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .comparison-column li {
    padding: var(--space-sm) 0;
    color: var(--color-text-muted);
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
  }

  .comparison-column li::before {
    content: "✓";
    color: var(--color-accent);
    font-weight: bold;
    flex-shrink: 0;
  }

  .comparison-cta {
    text-align: center;
  }

  /* Quick Start Preview */
  .quick-start-content {
    max-width: 900px;
    margin: 0 auto;
  }

  .quick-start-steps {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-lg);
    margin-bottom: var(--space-2xl);
  }

  .step {
    text-align: center;
    padding: var(--space-xl);
  }

  .step-number {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 3rem;
    height: 3rem;
    background: var(--color-accent);
    color: var(--color-bg);
    border-radius: 50%;
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: var(--space-md);
  }

  .step h3 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: var(--space-sm);
    color: var(--color-text);
  }

  .step p {
    color: var(--color-text-muted);
    margin: 0;
  }

  .step code {
    background: var(--color-code-bg);
    padding: 0.2em 0.4em;
    border-radius: 3px;
    font-size: 0.9em;
  }

  .quick-start-cta {
    text-align: center;
  }

  /* Responsive */
  @media (max-width: 48em) {
    .hero {
      padding: var(--space-xl) 0;
      min-height: 60vh;
    }

    .hero-ctas {
      flex-direction: column;
      align-items: stretch;
    }

    .btn {
      width: 100%;
      justify-content: center;
    }

    .features-grid {
      grid-template-columns: 1fr;
    }

    .differentiators-grid {
      grid-template-columns: 1fr;
    }

    .comparison-grid {
      grid-template-columns: 1fr;
    }

    .quick-start-steps {
      grid-template-columns: 1fr;
    }
  }

  /* Thumb-accessible CTAs on mobile */
  @media (max-width: 30em) {
    .btn {
      min-height: 48px;
      font-size: 1.125rem;
    }
  }
</style>
